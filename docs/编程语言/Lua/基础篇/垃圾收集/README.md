# 垃圾收集

`Lua` 语言使用自动内存管理。程序可以创建对象（表、闭包等），但却没有函数来删除对象。 `Lua` 语言通过垃圾收集自动地删除成为垃圾的对象，从而将程序员从内存管理的绝大部分负担中解放出来。更重要的是，将程序员从与内存管理相关的大多数 `bug` 中解放出来，例如**无效指针**和**内存泄露**等问题。

在一个理想环境中，垃圾收集器对程序员来说是**不可见**的，就像是一个好的清洁工不会和其他工人打交道一样。不过，有时即使是最智能的垃圾收集器也会需要我们的辅助。在某些关键的性能阶段，我们可能需要将其停止，或者让其只在特定的时间运行。另外，一个垃圾收集器只能收集它确定是垃圾的内容，而不能猜测我们把什么当做垃圾。没有垃圾收集器能够做到让我们完全不用操心资源管理的问题，比如**驻留内存**和**外部资源**。

**弱引用表**、**析构器**和函数 `collectgarbage` 是在 `Lua` 语言中用来辅助垃圾收集器的主要机制。

* 弱引用表允许收集`Lua`语言中还可以被程序访问的对象。
* 析构器允许收集不在垃圾收集器直接控制下的外部对象。
* 函数`collectgarbage`允许我们控制垃圾收集器的步长。
