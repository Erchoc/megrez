# fork vs cluster

## fork模式

**单实例多进程**，常用于**多语言混编**，比如 `php` 、 `python` 等，**不支持端口复用**，需要自己做应用的端口分配和负载均衡的子进程业务代码。

### 优点

支持多语言混编

### 缺点

* 单服务器实例容易由于异常会导致服务器实例崩溃
* 需要手动修改代码做适配

## cluster模式

**多实例多进程**，但是只支持 `node` ，端口可以复用，不需要额外的端口配置，**0代码实现负载均衡**。

### 优点

由于多实例机制，可以保证服务器的容错性，就算出现异常也不会使多个服务器实例同时崩溃。

## 共同点

由于都是多进程，都需要**消息机制**或**数据持久化**来实现**数据共享**。
