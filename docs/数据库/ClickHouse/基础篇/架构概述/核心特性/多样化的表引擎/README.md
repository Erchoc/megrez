# 多样化的表引擎

也许因为 `Yandex.Metrica` 的最初架构是基于 `MySQL` 实现的，所以在 `ClickHouse` 的设计中，能够察觉到一些 `MySQL` 的影子，**表引擎**的设计就是其中之一。与 `MySQL` 类似， `ClickHouse` 也将存储部分进行了抽象，把存储引擎作为一层独立的接口。截至本书完稿时， `ClickHouse` 共拥有**合并树**、**内存**、**文件**、**接口**和其他 `6` 大类 `20` 多种表引擎。其中每一种表引擎都有着各自的特点，用户可以根据实际业务场景的要求，选择合适的表引擎使用。

通常而言，一个通用系统意味着更广泛的适用性，能够适应更多的场景。但通用的另一种解释是平庸，因为它无法在所有场景内都做到极致。

在软件的世界中，并不会存在一个能够适用任何场景的通用系统，为了突出某项特性，势必会在别处有所取舍。其实世间万物都遵循着这样的道理，就像信天翁和蜂鸟，虽然都属于鸟类，但它们各自的特点却铸就了完全不同的体貌特征。信天翁擅长远距离飞行，环绕地球一周只需要 `1~2` 个月的时间。因为它能够长时间处于滑行状态， `5` 天才需要扇动一次翅膀，心率能够保持在每分钟 `100~200` 次之间。而蜂鸟能够垂直悬停飞行，每秒可以挥动翅膀 `70～100` 次，飞行时的心率能够达到每分钟 `1000` 次。如果用数据库的场景类比信天翁和蜂鸟的特点，那么信天翁代表的可能是使用普通硬件就能实现高性能的设计思路，数据按粗粒度处理，通过批处理的方式执行；而蜂鸟代表的可能是按细粒度处理数据的设计思路，需要高性能硬件的支持。

将表引擎独立设计的好处是显而易见的，通过特定的表引擎支撑特定的场景，十分灵活。对于简单的场景，可直接使用简单的引擎降低成本，而复杂的场景也有合适的选择。
